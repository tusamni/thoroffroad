---
import Layout from "@/layouts/Layout";

// imports
import BuildFilter from "@/components/builds/BuildFilter";
import BuildSnippet from "@/components/builds/BuildSnippet";
import Container from "@/components/Container";
import ListingGrid from "@/components/builds/BuildListing";
import Pagination from "@/components/Pagination";
import Section from "@/components/Section";

// content
import { getCollection } from "astro:content";
export async function getStaticPaths({ paginate }) {
    const allBuilds = (await getCollection("builds")).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());

    return paginate(allBuilds, { pageSize: 12 });
}
const { page } = Astro.props;
---

<Layout title="Texas High-Performance Off-Road Vehicle Builds" description="THOR Off-Road is the top off-road parts and installation outfitter in Texas for Ford Chevrolet GMC RAM Toyota Lexus Jeep">
    <Section small={false}>
        <Container classes="space-y-16">
            <div class="max-w-3xl space-y-4">
                <h1>THOR Off-Road Builds</h1>
                <p class="space-y-4 text-xl leading-8">We're designing and building amazing vehicles each and every day. Browse through a small selection of our most recent finished builds.</p>
            </div>

            <div class="flex justify-between items-center">
                <!-- <BuildFilter /> -->

                <!-- <div class="hidden md:block">
                    <Pagination page={page} />
                </div> -->
            </div>

            <ListingGrid>
                {page.data.map((b) => <BuildSnippet build={b} sizes="(min-width:640px) 50vw, (min-width:1024px) 25vw, (min-width:1280px) 300px, 100vw" height="h-[15em]" />)}
            </ListingGrid>

            <!-- <div class="flex justify-between items-center">
                <div class="hidden sm:block text-sm">Page {page.currentPage} of {page.lastPage}</div>

                <Pagination page={page} />
            </div> -->
        </Container>
    </Section>
</Layout>
