---
import Layout from "@/layouts/Layout";

import { getBuildImage } from "@/functions/Image";
import { getBuildDescription } from "@/functions/Content";
import { getCollection } from "astro:content";

import BuildAlt from "@/components/builds/snippets/BuildAlt";
import Container from "@/components/Container";
import Gallery from "@/components/images/Gallery";
import Icon from "@/components/Icon";
import Link from "@/components/Link";
import Part from "@/components/content/snippets/Part";
import Picture from "@/components/images/Picture";
import Testimonial from "@/components/content/testimonials/Testimonial";
import TestimonialAlt from "@/components/testimonials/TestimonialAlt";

// content
const allBrands = await getCollection("brands", ({ data }) => {
	return data.featured == true;
});
const allParts = await getCollection("parts");
const allTestimonials = await getCollection("testimonials");

const galleryImages = [
	{ id: "298562-2021-ram-2500", image: 5 },
	{ id: "405642-2022-ram-2500", image: 2 },
	{ id: "266375-2022-ford-bronco", image: 3 },
	{ id: "108058-2022-gmc-sierra-2500-hd", image: 6 },
	{ id: "276780-2019-ford-f-250", image: 2 },
	{ id: "453172-2020-ford-f-250", image: 7 },
	{ id: "791924-2016-toyota-tacoma", image: 7 },
	{ id: "404814-2023-ford-f-250", image: 2 },
];
---

<Layout>
	<div class="relative flex justify-end items-end min-h-[700px]">
		<Picture src="builds/296799-2024-gmc-sierra-2500-hd/02.jpg" loading="eager" class:list={["w-full h-full object-cover absolute"]} />
		<div class="absolute w-full h-full bg-gradient-to-b from-transparent via-black/20 to-black/70"></div>

		<Container classes="w-full pb-12">
			<h1 class="text-right relative text-balance font-alt text-7xl text-white uppercase font-medium">We're <strong>the Best</strong> Off-Road<br /> Truck Outfitter in Texas!</h1>
		</Container>
	</div>

	<div class="bg-[#004D72] section">
		<Container>
			<div class="grid grid-cols-4 gap-16">
				<BuildAlt build="235752-2022-jeep-wrangler" />
				<BuildAlt build="435826-2024-ford-f-250" />
				<BuildAlt build="632051-2022-ford-f-450" />
				<BuildAlt build="424381-2019-toyota-tacoma" />
			</div>
		</Container>
	</div>

	<div class="bg-[#E1243B] text-white py-16">
		<Container>
			<div class="grid grid-cols-3 lg:grid-cols-6 justify-between gap-4">
				{allBrands.map((b) => <Icon icon={`brands/${b.data.logo}`} alt={b.data.title} class="h-12 w-7/12 place-self-center" />).slice(0, 6)}
			</div>
		</Container>
	</div>
	<div class="bg-[#B11D2F] text-white py-5">
		<Container>
			<div class="flex justify-between items-center">
				<div class="text-xl uppercase font-bold tracking-wider">Selling & Installing the Industries Best Brands</div>
				<div class="text-xl uppercase font-light tracking-wider">See More +</div>
			</div>
		</Container>
	</div>

	<div class="section space-y-24" style="background-color: #44403C; background-image:url('/images/static.png'); background-repeat: repeat;">
		<div class="grid grid-cols-2 gap-12 items-center">
			<Picture src="team/shop/thoroffroad-01.jpg" loading="eager" class:list={["w-full h-full object-cover rounded-r shadow-lg aspect-square"]} />

			<div class="max-w-2xl">
				<h1 class="text-balance font-alt text-7xl text-white uppercase font-normal">"I can't believe <br /> <strong>That's My Truck!</strong>"</h1>

				<div class="space-y-6 text-white text-xl mt-12 leading-relaxed font-light">
					<p>
						THOR is the premiere truck and off-road vehicle outfitter in Texas with the unique automotive knowledge, technical expertise, and deep customer insights to consistently deliver the truck or adventure vehicle of our customers'
						dreams.
					</p>
					<p>
						THOR is passionate about creating purpose-built vehicles for our customers, but we also thrive on building strong personal relationships that are based on competence and trust. We are experts in all things off-road and love to
						inspire and help our customers to build the truck or adventure vehicle that they have always wanted. We aren't satisfied until we hear our customers say: <span class="font-bold">"Wow, I can't believe that's my truck!"</span>
					</p>
				</div>
			</div>
		</div>

		<Container>
			<div class="grid grid-cols-3 gap-8">
				{allTestimonials.map((t, i) => <TestimonialAlt content={t} lines="line-clamp-5" />).slice(0, 6)}
			</div>
		</Container>
	</div>

	<div class="section bg-[#443432]">
		<Container>
			<div class="grid grid-cols-5 gap-28">
				<div class="col-span-2 h-full">
					<div class="space-y-12 sticky top-32">
						<h1 class="text-balance font-alt text-7xl text-white uppercase font-normal">We <strong>Sell and Install</strong> the Best Off-Road Parts</h1>
						<hr class="w-32 opacity-50" />
						<div class="space-y-6 text-white text-xl leading-relaxed font-light">
							<p>
								THOR is the premiere truck and off-road vehicle outfitter in Texas with the unique automotive knowledge, technical expertise, and deep customer insights to consistently deliver the truck or adventure vehicle of our
								customers' dreams.
							</p>
						</div>
					</div>
				</div>

				<div class="col-span-3 grid grid-cols-2 gap-y-24 gap-x-24 text-white">
					{allParts.map((p) => <Part part={p} />)}
				</div>
			</div>
		</Container>
	</div>
</Layout>
