---
import Layout from "../layouts/Layout.astro";

// components
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Break from "../components/Break.astro";
import Button from "../components/buttons/Button.astro";
import Container from "../components/Container.astro";
import Section from "../components/Section.astro";
import Link from "../components/buttons/Link.astro";
import PostSnippet from "../components/posts/PostSnippet.astro";
import Testimonial from "../components/Testimonial.astro";
import TireTracks01 from "../components/vectors/tracks/TireTracks01.astro";

// config
import { Business } from "../config";

// content
const allTestimonials = await getCollection("testimonials");

// functions
import { isPortrait } from "../functions/Image.js";

// images
import header01 from "../assets/images/header01.jpg";
import header02 from "../assets/images/header02.jpg";
import header03 from "../assets/images/header03.jpg";
import header04 from "../assets/images/header04.jpg";

import bds from "../assets/images/brands/bds.png";
import method from "../assets/images/brands/method.png";
import carli from "../assets/images/brands/carli.png";
import add from "../assets/images/brands/add.png";
import retrax from "../assets/images/brands/retrax.png";
import raceline from "../assets/images/brands/raceline.png";
import fox from "../assets/images/brands/fox.png";
import blackrhino from "../assets/images/brands/black-rhino.png";
import bajadesigns from "../assets/images/brands/baja-designs.png";

import jamey from "../assets/images/jamey.jpg";
import headshot from "../assets/images/jamey02.jpg";
---

<Layout>
    <!-- header images -->
    <div class="grid grid-cols-2 lg:grid-cols-4 grid-rows-2 lg:grid-rows-1 h-[400px] md:h-[600px] lg:h-[500px]">
        <div class="units order-1">
            <Image src={header01.src} width={header01.width} height={header01.height} class="object-cover w-full h-full object-[50%,80%] lg:object-center" alt="THOR Off-Road" />
            <Image src={header01.src} width={header01.width} height={header01.height} class="object-cover w-full h-full object-[50%,80%] lg:object-center hidden lg:block" alt="THOR Off-Road" />
        </div>

        <div class="units order-2">
            <img src={header02.src} class="object-cover w-full h-full object-left-bottom lg:object-center" />
            <img src={header02.src} class="object-cover w-full h-full object-left-bottom lg:object-center hidden lg:block" />
        </div>
        <div class="units order-4 lg:order-3">
            <img src={header03.src} class="object-cover w-full h-full object-left lg:object-left-bottom" />
            <img src={header03.src} class="object-cover w-full h-full object-left lg:object-left-bottom" />
        </div>
        <div class="units order-3 lg:order-4">
            <img src={header04.src} class="object-cover w-full h-full object-top sm:object-[50%,20%] lg:object-center" />
            <img src={header04.src} class="object-cover w-full h-full object-top lg:object-center" />
        </div>
    </div>

    <div class="bg-gradient-to-r from-gray-900 to-gray-700">
        <!-- brands -->
        <Section classes="relative z-10">
            <Container>
                <div class="grid grid-cols-1 items-center gap-16 lg:grid-cols-2">
                    <div class="mx-auto max-w-xl lg:mx-0 space-y-8">
                        <h1>{Business.nameLong} partners with the best brands.</h1>
                        <p class="text-lg leading-8 text-gray-300">We've built partnerships with the best brands, nobody carries more Carli parts or knows the performance suspension options for your vehicle better than {Business.nameLong}.</p>

                        <div class="flex flex-col gap-4 sm:flex-row items-center gap-x-6">
                            <Button text="Build Your Dream Truck" theme="primary" />
                            <Link>See Our Work</Link>
                        </div>
                    </div>

                    <!-- brand logos -->
                    <div class="mx-auto grid max-w-xl items-center grid-cols-3 gap-12 lg:gap-8 lg:mx-0 lg:max-w-none">
                        <img src={bds.src} class="max-h-12 w-full object-contain" />
                        <img src={method.src} class="max-h-8 w-full object-contain" />
                        <img src={carli.src} class="max-h-16 w-full object-contain" />
                        <img src={add.src} class="max-h-12 w-full object-contain object-center" />
                        <img src={retrax.src} class="max-h-10 w-full object-contain object-center" />
                        <img src={raceline.src} class="max-h-8 w-full object-contain object-center" />
                        <img src={fox.src} class="max-h-12 w-full object-contain object-center" />
                        <img src={blackrhino.src} class="max-h-8 w-full object-contain object-center" />
                        <img src={bajadesigns.src} class="max-h-12 w-full object-contain object-center" />
                    </div>
                </div>
            </Container>
        </Section>

        <Container>
            <Break />
        </Container>

        <!-- the THOR difference -->
        <Section classes="relative">
            <TireTracks01 classes="absolute bottom-0 right-0 w-[800px] text-gray-700/10 sm:text-gray-700/20" />

            <Container classes="relative">
                <div class="grid grid-cols-1 items-start gap-12 md:grid-cols-2">
                    <div class="hidden md:block md:relative h-full w-full">
                        <img src={jamey.src} class="md:absolute h-full w-full object-cover md:object-[60%,10%] lg:object-[50%,30%] shadow-2xl rounded-md" alt="" />
                    </div>

                    <div>
                        <div class="text-base leading-7 text-gray-700 md:py-16 lg:py-32">
                            <h2 class="lg:max-w-lg">The {Business.nameLong} Difference.</h2>
                            <div class="text-lg leading-8 text-gray-300">
                                <p class="mt-8 text-lg sm:text-xl leading-8 sm:leading-9">THOR is the premiere truck and off-road vehicle outfitter in Texas with the unique automotive knowledge, technical expertise, and deep customer insights to consistently deliver the truck or adventure vehicle of our customers' dreams. Come experience your own purpose-built vehicle.</p>
                                <p class="mt-8 text-gray-400">
                                    THOR is passionate about creating purpose-built vehicles for our customers, but we also thrive on building strong personal relationships that are based on competence and trust. We are experts in all things off-road and love to inspire and help our customers to build the truck or adventure vehicle that they have always wanted. We aren't satisfied until we hear
                                    our customers say,
                                    <em>“Wow, I can't believe that's my truck!”</em>
                                </p>
                                <div class="mt-16 flex flex-col gap-4">
                                    <img src={headshot.src} class="md:hidden rounded-full w-16 h-auto border border-gray-600" />

                                    <div class="flex flex-col gap-2">
                                        <p class="font-cursive text-4xl">Jamey Whitlock</p>
                                        <p class="text-gray-400">Owner, THOR Off-Road</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </Container>
        </Section>

        <Container>
            <Break />
        </Container>

        <!-- testimoinals -->
        <Section>
            <Container>
                <div class="mx-auto max-w-xl text-center space-y-4">
                    <p class="text-lg font-semibold leading-8 tracking-tight text-gray-400">Testimonials</p>
                    <h2>We're building our customer's dream vehicles.</h2>
                </div>

                <div class="mx-auto mt-16 flow-root sm:mt-20">
                    <div class="sm:columns-2 lg:columns-3 gap-8">
                        {allTestimonials.map((t) => <Testimonial content={t} />)}
                    </div>
                </div>
            </Container>
        </Section>

        <Container>
            <Break />
        </Container>

        <!-- recent builds -->
        <Section>
            <Container>
                <div class="columns-1 sm:columns-2 md:columns-3 space-y-4">
                    <Image src={header01.src} width={header01.width} height={header01.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header01)]} alt="THOR Off-Road" />
                    <Image src={header02.src} width={header02.width} height={header02.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header02)]} alt="THOR Off-Road" />
                    <Image src={header03.src} width={header03.width} height={header03.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header03)]} alt="THOR Off-Road" />
                    <Image src={header04.src} width={header04.width} height={header04.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header04)]} alt="THOR Off-Road" />
                    <Image src={header01.src} width={header01.width} height={header01.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header01)]} alt="THOR Off-Road" />
                    <Image src={header02.src} width={header02.width} height={header02.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header02)]} alt="THOR Off-Road" />
                    <Image src={header03.src} width={header03.width} height={header03.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header03)]} alt="THOR Off-Road" />
                    <Image src={header04.src} width={header04.width} height={header04.height} class:list={["rounded-md shadow-2xl object-cover", isPortrait(header04)]} alt="THOR Off-Road" />
                </div>
            </Container>
        </Section>

        <Container>
            <Break />
        </Container>

        <!-- recent posts -->
        <Section>
            <Container>
                <div class="grid grid-cols-1 lg:grid-cols-2 lg:gap-x-16">
                    <article class="space-y-6 w-full max-w-2xl lg:max-w-lg">
                        <time datetime="2020-03-16" class="text-sm leading-6 text-gray-400">Mar 16, 2020</time>

                        <h3>Torsion Sway Bars: The What, Why & How</h3>
                        <p class="text-lg leading-8 text-gray-400">When optioning a Carli suspension package on a Super Duty or Ram what are the benefits of running a Torsion Sway Bar over the factory sway bar and is it right for me? Let's dig right in and talk about what a Factory Sway Bar does.</p>

                        <Link>Continue Reading</Link>
                    </article>

                    <div class="pt-12 grid xl:grid-cols-2 gap-12">
                        <PostSnippet />
                        <PostSnippet />
                        <PostSnippet />
                        <PostSnippet />
                    </div>
                </div>
            </Container>
        </Section>
    </div>
</Layout>

<style type="text/css">
    .units > :last-child {
        transform: rotatex(180deg) translatey(0px);
        mask-image: linear-gradient(transparent 80%, white 180%);
        -webkit-mask-image: linear-gradient(transparent 80%, white 180%);
    }
</style>
