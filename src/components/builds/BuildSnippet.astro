---
// props
interface Props {
    build: any;
    sizes?: string;
}
const { build, sizes = "100vw" } = Astro.props;

// components
import Link from "../buttons/Link.astro";
import Feature from "../content/Feature.astro";
import Picture from "../images/Picture.astro";

// config
import { Business } from "../../config";

// functions
import { timeAgo } from "../../functions/DateTime";

// images
import { getBuildImage } from "../../functions/Image";
---

<div>
    <Feature href={`/builds/${build.slug}`} classes="pt-32">
        <Picture src={getBuildImage(build.data.id, build.data.featuredImage)} sizes="500px" alt={`${build.data.year} ${build.data.make} ${build.data.model} built by ${Business.nameLong}`} class="absolute inset-0 -z-10 h-full w-full object-cover" sizes="500px" slot="picture" />
    </Feature>

    <div class="flex flex-wrap items-center gap-y-2 text-stone-500 p-4 bg-stone-100 rounded-b">
        <h3 class="text-lg font-semibold">{build.data.year} {build.data.make} {build.data.model}</h3>

        <!-- <div class="flex w-full justify-between text-xs text-stone-400">
            <div>{timeAgo(build.data.date)}</div>
            <div>{build.data.trim}</div>
        </div> -->

        <ul class="text-xs line-clamp-2 comma-list">{build.data.parts.map((p) => <li>{p}</li>)}</ul>

        <Link size="sm" arrow={true} classes="text-stone-800">View Build Details</Link>
    </div>
</div>
