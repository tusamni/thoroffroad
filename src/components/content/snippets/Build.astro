---
import { getBuildTitle } from "@/functions/Content";
import { getBuildImage } from "@/functions/Image";
import Picture from "@/components/images/Picture";

interface Props {
    build: any;
    sizes?: string;
}
const { build, sizes = "100vw", ...attrs } = Astro.props;
---

<div class="relative">
    <Picture src={getBuildImage(build.id, build.data.images.snippet)} alt={getBuildTitle(build.id)} class="md:aspect-square object-cover h-[15em] md:h-[15em]" sizes={sizes} />

    <div class="flex flex-col gap-2 p-3">
        <div class="font-semibold">{getBuildTitle(build.id)}</div>
        <ul class="comma-list text-xs line-clamp-2">{build.data.meta.parts.map((p) => <li>{p}</li>)}</ul>

        <a href={`/builds/${build.id}`} class="text-xs font-medium">
            <span class="absolute inset-0"></span>
            See Build &#x2192;
        </a>
    </div>
</div>
