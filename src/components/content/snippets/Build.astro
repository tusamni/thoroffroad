---
import { getBuildTitle } from "@/functions/Content";
import { getBuildImage } from "@/functions/Image";
import Picture from "@/components/images/Picture";

interface Props {
	build: any;
	sizes?: string;
}
const { build, sizes = "100vw", ...attrs } = Astro.props;
---

<div class="relative p-6 bg-rock-50/80 rounded">
	<Picture src={getBuildImage(build.id, build.data.images.snippet)} alt={getBuildTitle(build.id)} class="aspect-video object-cover rounded" sizes={sizes} />

	<div class="flex flex-col gap-2 p-3">
		<div class="uppercase font-bold text-xl line-clamp-1 font-alt">{getBuildTitle(build.id)}</div>
		<ul class="comma-list text-sm line-clamp-3 tracking-wide">{build.data.meta.parts.map((p) => <li>{p}</li>)}</ul>

		<a href={`/builds/${build.id}`} class="text-xs font-medium">
			<span class="absolute inset-0"></span>
			See Build &#x2192;
		</a>
	</div>
</div>
