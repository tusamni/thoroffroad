---
// components
import { Icon } from "astro-icon";
import Background from "@/components/content/Background";
import BuildSnippet from "@/components/builds/BuildSnippet";
import Container from "@/components/Container";
import Cta from "@/components/Cta";
import Picture from "./images/Picture.astro";
import Section from "@/components/Section";

// config
import { Social, Business } from "../config.js";

// content
import { getCollection } from "astro:content";
const featuredBuilds = ["340718", "453172", "266375", "695527", "108058", "100052"];
const allParts = await getCollection("parts");
const allMakes = await getCollection("makes");
const allBuilds = (
    await getCollection("builds", ({ data }) => {
        return featuredBuilds.includes(data.id.toString());
    })
).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Background>
    <Section>
        <Container>
            <div class="grid grid-cols-1 lg:grid-cols-2 divide-x">
                <div class="pr-16">
                    <Cta />
                </div>

                <div class="space-y-8 pl-16">
                    <h2 class="h3">
                        The {Business.nameLong} Difference.
                    </h2>

                    <Picture src="team/shop/thoroffroad-06.jpg" alt="THOR Off-Road" />

                    <div class="leading-8 text-stone-700 space-y-12">
                        <div class="space-y-8">
                            <p>
                                {Business.nameShort} is the premiere truck and off-road vehicle outfitter in Texas with the unique automotive knowledge, technical expertise, and deep customer insights to consistently deliver the truck or adventure vehicle of our customers' dreams. Come experience
                                your own purpose-built vehicle.
                            </p>
                            <p class="mt-8 text-stone-700">
                                {Business.nameShort} is passionate about creating purpose-built vehicles for our customers, but we also thrive on building strong personal relationships that are based on competence and trust. We are experts in all things off-road and love to inspire and help our
                                customers to build the truck or adventure vehicle that they have always wanted. We aren't satisfied until we hear our customers say,
                                <em>“Wow, I can't believe that's my truck!”</em>
                            </p>
                        </div>

                        <div class="flex flex-col gap-1">
                            <p class="font-cursive font-medium text-3xl">Jamey Whitlock</p>
                            <p class="">
                                Owner, {Business.nameLong}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </Container>
    </Section>

    <div class="bg-stone-900">
        <Section>
            <Container>
                <footer>
                    <div class="flex lg:flex-row flex-col lg:justify-between gap-24 mb-24">
                        <div class="space-y-12 max-w-lg">
                            <Icon name="logo" class="h-14 w-auto text-white" />

                            <p class="text-md leading-7 text-stone-50">Located in Dripping Springs, Texas, {Business.nameLong} are experts in designing and building off-road vehicles that deliver the exact performance and style that our customers dream about.</p>

                            <!-- contact -->
                            <div class="space-y-4 text-stone-50">
                                <div class="flex gap-x-4 items-start">
                                    <Icon name="hero/Phone" class="w-4 h-auto" />
                                    <a href={`tel:${Business.phone}`} class="text-base">{Business.phone}</a>
                                </div>
                                <div class="flex gap-x-4 items-start">
                                    <Icon name="hero/Envelope" class="w-4 h-auto" />
                                    <a href={`mailto:${Business.email}`} class="text-base">{Business.email}</a>
                                </div>
                                <div class="flex gap-x-4 items-start">
                                    <Icon name="hero/Map" class="w-4 h-auto" />
                                    <a href={Business.mapUrl} class="text-base">{Business.address.street01} {Business.address.street02}<br />{Business.address.city}, {Business.address.state}</a>
                                </div>
                            </div>

                            <!-- social -->
                            <div class="flex space-x-6">
                                {
                                    Social.map((s) => (
                                        <a href={s.url} target="_blank" title={`THOR Off-Road ${s.title}`}>
                                            <Icon name={s.icon} class="w-4 text-white" />
                                        </a>
                                    ))
                                }
                            </div>
                        </div>

                        <!-- navigation -->
                        <div class="min-w-fit">
                            <div class="grid grid-cols-3 gap-12">
                                <div class="space-y-6">
                                    <h6 class="text-stone-50">Vehicles</h6>
                                    <hr class="w-1/2 border-stone-500" />
                                    <ul role="list" class="space-y-2">
                                        {
                                            allMakes.map((m) => (
                                                <li>
                                                    <a href={`/vehicles/${m.slug}`} title={m.data.title} class="text-sm leading-6 text-stone-200">
                                                        {m.data.title}
                                                    </a>
                                                </li>
                                            ))
                                        }
                                    </ul>
                                </div>

                                <div class="space-y-6">
                                    <h6 class="text-stone-50">Parts</h6>
                                    <hr class="w-1/2 border-gray-500" />
                                    <ul role="list" class="space-y-2">
                                        {
                                            allParts.map((p) => (
                                                <li>
                                                    <a href={`/parts/${p.slug}`} title={p.data.title} class="text-sm leading-6 text-stone-200">
                                                        {p.data.title}
                                                    </a>
                                                </li>
                                            ))
                                        }
                                    </ul>
                                </div>

                                <div class="space-y-6">
                                    <h6 class="text-stone-50">Other</h6>
                                    <hr class="w-1/2 border-stone-500" />
                                    <ul role="list" class="space-y-2">
                                        <li>
                                            <a href="#" class="text-sm leading-6 text-stone-200">Sitemap</a>
                                        </li>
                                        <li>
                                            <a href="/privacy-policy" class="text-sm leading-6 text-stone-200">Privacy Policy</a>
                                        </li>
                                        <li>
                                            <a href="/terms-of-use" class="text-sm leading-6 text-stone-200">Terms of Use</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid gap-y-2 md:grid-cols-2 md:justify-between">
                        <p class="text-sm leading-5 text-stone-300">&copy; {Business.nameLong}. All rights reserved.</p>
                        <a href={Business.mapUrl} class="text-sm leading-5 text-stone-300 md:justify-self-end">{Business.address.street01} {Business.address.street02}, {Business.address.city}, {Business.address.state}</a>
                    </div>
                </footer>
            </Container>
        </Section>
    </div>
</Background>
