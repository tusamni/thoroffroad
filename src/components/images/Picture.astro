---
import { Image } from "../../config";

// props
interface Props {
    src: string;
    alt: string;
    sizes?: string;
}
const { src, alt, sizes = "100vw", ...attrs } = Astro.props;

const fullPath = `${Image.cloudUrl}/images/${src}`;
const sources = Image.imageSizes.map((w) => {
    return `${fullPath}?width=${w} ${w}w`;
});

const srcset = sources.join(", ");
---

<img srcset={srcset} src={src} sizes={sizes} alt={alt} {...attrs} />
